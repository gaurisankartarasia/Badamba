const _0x33f690=_0xba7b;function _0x87d8(){const _0x54e06d=['div','editCommentText','catch','910bBVfMJ','AIzaSyAHbJ2pK6lIr3WzHRU3vPGxkboXqn0ott0','none','Today','createElement','comment-timestamp','getTime','171391hvMqbL','getElementById','Sign\x20in\x20to\x20comment.','classList','Error\x20adding\x20comment:\x20','exists','addCommentBtn','docs','G-Y1WQQVE4HD','comment-container','editCommentSection','display','appendChild','data','trim','data-comment-id','</b>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22card-text\x22>','displayName','1337175wcSpkp','Comments\x20snapshot\x20received:','</small></p>\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button><i\x20class=\x22fa-regular\x20fa-thumbs-up\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button>Report</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<hr>\x0a\x20\x20\x20\x20','getDate','value','No\x20comments\x20found.','getAttribute','then','User\x20data\x20not\x20found\x20in\x20Firestore.','857335kGlwDb','3kjhWei','textContent','loadMoreBtn','19YTLJcP','text','forEach','21154spGCCl','getMonth','addEventListener','log','comment-text','isVerified_Admin','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22card-text\x22><small\x20class=\x22text-muted\x22>','style','loginSuccessModal','nacbadamba','comment-display','1490636fOvUkF','nacbadamba.appspot.com','click','653770638123','comments','timestamp','block','name','error','1:653770638123:web:b9c0d608c902adbb1b7b6e','14517gahEIt','add','isVerified','currentUser','6fjOpOS','editCommentBtn','345472waxemG','comment-name','<i\x20class=\x22bi\x20bi-patch-check-fill\x20text-secondary\x20fa-xs\x22></i>','length','Error\x20loading\x20more\x20comments:\x20','empty','innerHTML','732SBWQIu','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20animate__animated\x20animate__fadeIn\x22\x20style=\x22background-color:var(--c-ash);border:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b\x20class=\x22card-text\x22>'];_0x87d8=function(){return _0x54e06d;};return _0x87d8();}(function(_0x19a189,_0x44801f){const _0x13a1eb=_0xba7b,_0x504fb6=_0x19a189();while(!![]){try{const _0x4feffa=parseInt(_0x13a1eb(0x237))/0x1*(-parseInt(_0x13a1eb(0x23a))/0x2)+parseInt(_0x13a1eb(0x234))/0x3*(-parseInt(_0x13a1eb(0x1f5))/0x4)+parseInt(_0x13a1eb(0x233))/0x5*(-parseInt(_0x13a1eb(0x203))/0x6)+-parseInt(_0x13a1eb(0x22a))/0x7+parseInt(_0x13a1eb(0x205))/0x8+parseInt(_0x13a1eb(0x1ff))/0x9*(parseInt(_0x13a1eb(0x211))/0xa)+-parseInt(_0x13a1eb(0x218))/0xb*(-parseInt(_0x13a1eb(0x20c))/0xc);if(_0x4feffa===_0x44801f)break;else _0x504fb6['push'](_0x504fb6['shift']());}catch(_0x6bbb38){_0x504fb6['push'](_0x504fb6['shift']());}}}(_0x87d8,0x31e06));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js';function _0xba7b(_0x113303,_0x1107e2){const _0x87d894=_0x87d8();return _0xba7b=function(_0xba7b28,_0x4ed6f7){_0xba7b28=_0xba7b28-0x1f1;let _0x3b6872=_0x87d894[_0xba7b28];return _0x3b6872;},_0xba7b(_0x113303,_0x1107e2);}import{getAnalytics}from'https://www.gstatic.com/firebasejs/10.9.0/firebase-analytics.js';import{getAuth}from'https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js';import{getFirestore,collection,doc,getDoc,addDoc,onSnapshot,query,orderBy,startAfter,limit,getDocs}from'https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js';import{serverTimestamp}from'https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js';const firebaseConfig={'apiKey':_0x33f690(0x212),'authDomain':'nacbadamba.firebaseapp.com','projectId':_0x33f690(0x1f3),'storageBucket':_0x33f690(0x1f6),'messagingSenderId':_0x33f690(0x1f8),'appId':_0x33f690(0x1fe),'measurementId':_0x33f690(0x220)},app=initializeApp(firebaseConfig),analytics=getAnalytics(app),db=getFirestore(app),auth=getAuth(app);async function addComment(){const _0x234388=_0x33f690,_0x5e5833=auth[_0x234388(0x202)];if(_0x5e5833)try{const _0x2a28cf=_0x5e5833[_0x234388(0x229)],_0x3e384b=document['getElementById']('comment')[_0x234388(0x22e)];if(_0x3e384b[_0x234388(0x226)]()===''){alert('Please\x20enter\x20a\x20comment.');return;}const _0x391700=doc(db,'users',_0x5e5833['uid']),_0x3acb44=await getDoc(_0x391700);if(_0x3acb44[_0x234388(0x21d)]()){const _0x4ccca6=_0x3acb44['data'](),_0x78146d=new Date(),_0x19644a=formatDate(_0x78146d),_0x4ea938={'name':_0x2a28cf,'text':_0x3e384b,'timestamp':_0x19644a,'isVerified':_0x4ccca6[_0x234388(0x201)]||![],'isVerified_Admin':_0x4ccca6[_0x234388(0x23f)]||![]},_0x644b12=await addDoc(collection(db,_0x234388(0x1f9)),_0x4ea938);console['log']('Comment\x20added\x20with\x20ID:\x20',_0x644b12['id']);}else console[_0x234388(0x1fd)](_0x234388(0x232));}catch(_0x6e167f){console[_0x234388(0x1fd)](_0x234388(0x21c),_0x6e167f);}else alert(_0x234388(0x21a));}function formatDate(_0xca5809){const _0x206f20=_0x33f690,_0x41cf5f=new Date(),_0x401e8e=new Date(_0xca5809),_0x2598f0=_0x41cf5f[_0x206f20(0x217)]()-_0x401e8e[_0x206f20(0x217)](),_0x1c398a=Math['floor'](_0x2598f0/(0x3e8*0x3c*0x3c*0x18));if(_0x1c398a===0x0)return _0x206f20(0x214);else{if(_0x1c398a===0x1)return'Yesterday';else{if(_0x1c398a>=0x2&&_0x1c398a<=0x6)return _0x1c398a+'\x20days\x20ago';else{const _0x5aeccf=_0x401e8e[_0x206f20(0x22d)](),_0x38eed5=_0x401e8e[_0x206f20(0x23b)](),_0x1ddf9=_0x401e8e['getFullYear']();return''+_0x5aeccf+getDaySuffix(_0x5aeccf)+'\x20'+months[_0x38eed5]+',\x20'+_0x1ddf9;}}}}function getDaySuffix(_0x290cad){if(_0x290cad>=0xb&&_0x290cad<=0xd)return'th';switch(_0x290cad%0xa){case 0x1:return'st';case 0x2:return'nd';case 0x3:return'rd';default:return'th';}}function openSuccessModal(){const _0x906c0b=_0x33f690;var _0x2c2ebb=document[_0x906c0b(0x219)](_0x906c0b(0x1f2));_0x2c2ebb[_0x906c0b(0x1f1)]['display']='block';}function displayComments(_0x11ed52){const _0xb4c5af=_0x33f690,_0x148a77=document['getElementById'](_0xb4c5af(0x1f9));_0x148a77[_0xb4c5af(0x20b)]='',_0x11ed52[_0xb4c5af(0x239)](_0x52beba=>{const _0xf4c75d=_0xb4c5af,_0x72d785=_0x52beba[_0xf4c75d(0x225)](),_0x22d386=document[_0xf4c75d(0x215)](_0xf4c75d(0x20e));_0x22d386[_0xf4c75d(0x21b)][_0xf4c75d(0x200)](_0xf4c75d(0x1f4));let _0x5a10aa='';_0x72d785['isVerified']&&(_0x5a10aa='<i\x20class=\x22bi\x20bi-patch-check-fill\x20text-primary\x20fa-xs\x22></i>');let _0x296534='';_0x72d785[_0xf4c75d(0x23f)]&&(_0x296534=_0xf4c75d(0x207)),_0x22d386[_0xf4c75d(0x20b)]=_0xf4c75d(0x20d)+_0x72d785[_0xf4c75d(0x1fc)]+'\x20'+_0x5a10aa+'\x20'+_0x296534+_0xf4c75d(0x228)+_0x72d785[_0xf4c75d(0x238)]+_0xf4c75d(0x240)+_0x72d785[_0xf4c75d(0x1fa)]+_0xf4c75d(0x22c),_0x148a77[_0xf4c75d(0x224)](_0x22d386);});}document[_0x33f690(0x23c)]('DOMContentLoaded',function(){const _0x26e44e=_0x33f690;console[_0x26e44e(0x23d)]('DOM\x20content\x20loaded.');const _0x398ac5=document['getElementById'](_0x26e44e(0x21e));_0x398ac5[_0x26e44e(0x23c)](_0x26e44e(0x1f7),addComment);const _0x21d4fe=document['getElementById']('editCommentBtn');_0x21d4fe&&_0x21d4fe[_0x26e44e(0x23c)]('click',function(){const _0x356e47=_0x26e44e;var _0x3c5f23=document[_0x356e47(0x219)](_0x356e47(0x20f))[_0x356e47(0x22e)],_0x29bb8f=document['getElementById'](_0x356e47(0x204))[_0x356e47(0x230)](_0x356e47(0x227));editComment(_0x29bb8f,_0x3c5f23),document['getElementById'](_0x356e47(0x222))['style'][_0x356e47(0x223)]=_0x356e47(0x213);});const _0x22e035=collection(db,_0x26e44e(0x1f9)),_0x3ec0e2=query(_0x22e035,orderBy(_0x26e44e(0x1fa)),limit(0xa));getDocs(_0x3ec0e2)[_0x26e44e(0x231)](_0x44b33e=>{const _0x4463c8=_0x26e44e;!_0x44b33e['empty']?(displayComments(_0x44b33e),_0x44b33e['docs'][_0x4463c8(0x208)]>=0xa&&(document[_0x4463c8(0x219)](_0x4463c8(0x236))[_0x4463c8(0x1f1)][_0x4463c8(0x223)]=_0x4463c8(0x1fb))):console[_0x4463c8(0x23d)](_0x4463c8(0x22f));})[_0x26e44e(0x210)](_0xdba1e3=>{const _0x5009a0=_0x26e44e;console[_0x5009a0(0x1fd)]('Error\x20loading\x20initial\x20comments:\x20',_0xdba1e3);});});function displayComment(_0x23af42){const _0xf273a=_0x33f690,_0x9fa473=document['createElement'](_0xf273a(0x20e));_0x9fa473[_0xf273a(0x21b)][_0xf273a(0x200)](_0xf273a(0x221));const _0x4d5cb0=document[_0xf273a(0x215)](_0xf273a(0x20e));_0x4d5cb0['classList']['add'](_0xf273a(0x206)),_0x4d5cb0[_0xf273a(0x235)]=_0x23af42['name'];const _0xe35ca=document[_0xf273a(0x215)](_0xf273a(0x20e));_0xe35ca[_0xf273a(0x21b)][_0xf273a(0x200)](_0xf273a(0x23e)),_0xe35ca[_0xf273a(0x235)]=_0x23af42[_0xf273a(0x238)];const _0x1371e9=document[_0xf273a(0x215)](_0xf273a(0x20e));_0x1371e9[_0xf273a(0x21b)]['add'](_0xf273a(0x216)),_0x1371e9[_0xf273a(0x235)]=_0x23af42[_0xf273a(0x1fa)],_0x9fa473[_0xf273a(0x224)](_0x4d5cb0),_0x9fa473[_0xf273a(0x224)](_0xe35ca),_0x9fa473[_0xf273a(0x224)](_0x1371e9);const _0x32073e=document[_0xf273a(0x219)](_0xf273a(0x1f9));_0x32073e[_0xf273a(0x224)](_0x9fa473);}function loadMoreComments(){const _0x9378ae=_0x33f690,_0x3c2268=_0x3c2268(commentsRef,orderBy('timestamp'),startAfter(lastVisible),limit(0xa));getDocs(_0x3c2268)[_0x9378ae(0x231)](_0x4d6861=>{const _0x245614=_0x9378ae;!_0x4d6861[_0x245614(0x20a)]?(lastVisible=_0x4d6861['docs'][_0x4d6861[_0x245614(0x21f)][_0x245614(0x208)]-0x1],_0x4d6861[_0x245614(0x239)](_0x3b8bce=>{const _0x569f82=_0x245614,_0xc002a6=_0x3b8bce[_0x569f82(0x225)]();displayComment(_0xc002a6);}),_0x4d6861[_0x245614(0x21f)][_0x245614(0x208)]<0xa&&(document[_0x245614(0x219)](_0x245614(0x236))[_0x245614(0x1f1)][_0x245614(0x223)]='none')):(console['log']('No\x20more\x20comments\x20to\x20load.'),document[_0x245614(0x219)](_0x245614(0x236))[_0x245614(0x1f1)][_0x245614(0x223)]=_0x245614(0x213));})['catch'](_0x54efae=>{const _0x49b340=_0x9378ae;console[_0x49b340(0x1fd)](_0x49b340(0x209),_0x54efae);});}document['getElementById'](_0x33f690(0x236))[_0x33f690(0x23c)](_0x33f690(0x1f7),loadMoreComments);const commentsRef=collection(db,'comments');onSnapshot(commentsRef,_0x1f9807=>{const _0x119601=_0x33f690;console['log'](_0x119601(0x22b),_0x1f9807[_0x119601(0x21f)][_0x119601(0x208)],_0x119601(0x1f9)),displayComments(_0x1f9807);});
